<!doctype html>
<html lang="en">

<head>
    <title>Главная</title>
    <div th:replace="~{commons :: head}"></div>
</head>

<body>
    
	<div th:replace="~{commons :: nav}"></div>
	<h3 th:if="${success==true}" class="text-center">Вы успешно обновили данные</h3>
    <section class="profile" id="profile">
    <div class="container">
        <div class="row">
            <div class="col-md-6 m-auto">
                <div class="profile-info">
                	<h2 class="text-center">Профиль</h2>
                    <form action="/profile/update" method="POST">
                        <div class="profile-item profile-firstname">
                            <label class="col-md-6">Имя</label>
                            <input type="text" name="firstname" th:value="${entity.firstname}" required>
                        </div>
                        <div class="profile-item profile-lastname">
                            <label class="col-md-6">Фамилия</label>
                            <input type="text" name="lastname"  th:value="${entity.lastname}" required>
                        </div>
                        <div class="profile-item profile-email">
                            <label class="col-md-6">Адрес электронной почты</label>
                            <input type="email" name="email"  th:value="${entity.email}" required>
                        </div>
                        <div class="profile-item profile-login">
                            <label class="col-md-6">Логин</label>
                            <input type="text" name="username"  th:value="${entity.username}" required disabled>
                        </div>
                        <div class="profile-item profile-password">
                            <label class="col-md-6">Пароль</label>
                            <input type="password" name="password" required>
                        </div>
                        <div class="profile-form-buttons justify-content-between d-flex m-3">
                            <button type="submit" class=" btn btn-primary">Обновить</button>
                            <button type="submit" class=" btn btn-primary" formaction="/profile/delete">Удалить профиль</button>
                            <button type="button" class="btn btn-primary" onclick="history.back()">Назад</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
    
<section class="orders" id="orders">
    <div class="container">
        <div class="order-items">
        <h3 class="text-center">Страница предзаказа</h3>
        <h4 class="text-center mb-4">На странице будут отображены все заказы клиента и их статусы</h4>
            <div class="row item p-3" th:each="entityM:${entity.myOrders}" >
                <div class="h3 order-title" th:text="'Заказ на дату:'+${entityM.dates}">Заказ на 25,25,2025</div>
                <div class="order-table" th:text="'Статус: '+${entityM.status}">status</div>
                <div class="order-table" th:text="'Стол: '+${entityM.table}">Stol</div>
                <div class="order-table" th:text="'Сумма заказа: '+${#aggregates.sum(entityM.foods.![price])}">Summ</div>                
                <div class="order-peoples d-flex w-auto mr-5">
					<div class=" mr-5">Количество человек</div>                	
	                <div class="ml-1 order-peopleCount" th:text="${entityM.peopleCount}">
                </div>
                
            </div>
            <div class="order-food">
                    <div class="order-food-item" >
                    	<table class="table table-striped table-responsive-md">
	                        <thead>
	                            <tr>
	                                <th> Тип</th>
	                                <th> Название</th>
	                                <th> Цена</th>
	                            </tr>
	                        </thead>
	                        <tbody>
	                            <tr th:each="entity1 : ${entityM.foods}">
	                                <td th:text="${entity1.typeFood.name}"></td>
	                                <td th:text="${entity1.name}"></td>
	                                <td th:text="${entity1.price}"></td>
	                            </tr>
	                        </tbody>
	                    </table>
                    </div>
                </div>
        </div>
    </div>
</section>



</body>

</html>